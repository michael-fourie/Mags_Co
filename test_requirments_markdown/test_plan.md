# Test Plan

### How did your team organize the documentations of the test cases?

Our team decided to split up the documentations of the test cases by each general requirement. For example, one person wrote all the test cases for the /login and /*, one person wrote all test cases for /register and /logout, etc. We assigned two requirements to each person to write the test cases, and then made a pull request for each case to have them merged to the master branch with every member as a reviewer. We did this to ensure that each one of us had a firm understanding of 2 the 8 different requirements, but also communicated with and helped each other about our requirements so we also had an understanding of the other requirements. The test cases are all now moved into a folder named test_requirements_markdown to keep the master branch organized.

### Your understanding of how the chosen testing framework works to test the frontend, including your understanding of when and how the test cases will be running directly on GitHub.
The testing framework that we will be using is PyTest, a framework that makes it easy to write small tests, yet scales to support complex functional testing for applications and libraries. There will be three parts to testing, frontend, backend, and integration. At first, we will only be testing the frontend part, using mocking to create a fake backend. Using PyTest, the test cases can be automated and run directly on GitHub. The test cases will be run once the frontend code is completed.


### How are you going to organize different test case code files?
All the test cases will go into the test_case folder. Then the test cases will be organized into code files based on each section of requirements (R1-R8). For example, all tests on the /login will be grouped together in a file for testing login. All tests for /register will be stored in a /register test folder. This will allow everything to be neatly organized and readable.
| Specification                                                                                                                                                   | Test case ID   | Purpose                                                                                                                                                                                                              |
|-----------------------------------------------------------------------------------------------------------------------------------------------------------------|----------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| If the user hasn't logged in, show the login page                                                                                                               | R1.1           | Check to see if the login page is shown to a user when they are not logged in.                                                                                                                                       |
| the login page has a message that by default says 'please login'                                                                                                | R1.2           | Check to see if the login page shows the user a message to the user. Check to see that the message says ‘please login’                                                                                               |
| If the user has logged in, redirect to the user profile page                                                                                                    | R1.3           | Check to see when a user is logged in, that they have been redirected. Check to see that the page they've been redirected to is the profile page.                                                                    |
| The login page provides a login form which requests two fields: email and passwords                                                                             | R1.4           | Check to see that there are two input elements on page. Check to see that one of them is for an email address. Check to see that one of them is for a password.                                                      |
| The login form can be submitted as a POST request to the current URL (/login)                                                                                   | R1.5           | Check to see that when a user's credentials are entered into the /login, when they click the input[type=”submit”] they're form is submitted.                                                                         |
| Email and password both cannot be empty                                                                                                                         | R1.6.1         | Check to see that when password is empty, an error message is shown to user                                                                                                                                          |
| Email and password both cannot be empty                                                                                                                         | R1.6.2         | Check to see that when email is empty, an error message is shown to user                                                                                                                                             |
| Email and password both cannot be empty                                                                                                                         | R1.6.3         | Check to see that when both email and password is empty, an error message is shown to the user.                                                                                                                      |
| Email has to follow addr-spec defined in RFC 5322 (see https://en.wikipedia.org/wiki/Email_address for a human-friendly explanation)                            | R1.7.1         | Check if the email submission succeeds when the email follows addr-spec defined RFC 5322                                                                                                                             |
| Email has to follow addr-spec defined in RFC 5322 (see https://en.wikipedia.org/wiki/Email_address for a human-friendly explanation)                            | R1.7.2         | Check if the email submission fails when the email does not follows addr-spec defined RFC 5322                                                                                                                       |
| Password has to meet the required complexity: minimum length 6, at least one upper case, at least one lower case, and at least one special character            | R1.8.2         | Check if the password succeeds when it has at least 6 characters, one uppercase, one lowercase, and at least one special character.                                                                                  |
| Password has to meet the required complexity: minimum length 6, at least one upper case, at least one lower case, and at least one special character            | R1.8.2         | Check if the password fails when it does not have at least 6 characters, or one uppercase, or one lowercase, or at least one special character.                                                                      |
| For any formatting errors, render the login page and show the message 'email/password format is incorrect.'                                                     | R1.9           | Check that when an error in login occurs, that a message is shown to the user in the #message element. Check that the message reads ‘email/password format is incorrect’                                             |
| If email/password are correct, redirect to /                                                                                                                    | R1.10          | Check that when valid user credentials are submitted, the user is redirected. Check that the page they have been redirected to is the profile page.                                                                  |
| Otherwise, redirect to /login and show message 'email/password combination incorrect'                                                                           | R.11           | Check that when invalud user credentials are submitted, the user is shown a message in the #message element. Check that the #message element reads ‘email/password combination incorrect’.                           |
| If the user has logged in, redirect back to the user profile page /                                                                                             | R2.1           | Check to see if user profile page is showing after user has login and tries to access register page.                                                                                                                 |
| otherwise, show the user registration page                                                                                                                      | R2.2           | Check to see if user registration page is showing when user is not logged in.                                                                                                                                        |
| the registration page shows a registration form requesting: email, user name, password, password2                                                               | R2.3           | Check to see if user registration page contains all necessary elements needed for entry and creation of user account.                                                                                                |
| The registration form can be submitted as a POST request to the current URL (/register)                                                                         | R2.4           | Check to see that when a user's credentials are entered into the /register, when they click the input[type=”submit”] their form is submitted.                                                                        |
| Email, password, password2 all have to satisfy the same required as defined in R1                                                                               | R2.5           | Check to see if all requirements pass for user account elements.                                                                                                                                                     |
| Password and password2 have to be exactly the same                                                                                                              | R2.6.1         | Check to see if password1 and password2 are the same and returns successfully.                                                                                                                                       |
| ^                                                                                                                                                               | R.2.6.2        | Check to see if registration fails if password1 and password2 are not the same.                                                                                                                                      |
| User name has to be non-empty, alphanumeric-only, and space allowed only if it is not the first or the last character.                                          | R2.7.1         | Check to see if name contains all required conditions and registration is successful for name element and name is non-empty, alphanumeric-only, and space allowed only if it is not the first or the last character. |
| ^                                                                                                                                                               | R2.7.2         | Check to see if name element fails during registration if name is empty, contains special characters, and/or has spaces at the beginning or end of name.                                                             |
| User name has to be longer than 2 characters and less than 20 characters.                                                                                       | R2.8.1         | Check to see if name element has successful registration when name is in between 2 and 20 characters, uninclusive                                                                                                    |
| ^                                                                                                                                                               | R.2.8.2        | Check to see if name element fails during registration if name is 2 characters or less, or 20 characters or more                                                                                                     |
| For any formatting errors, redirect back to /login and show message '{} format is incorrect.'.format(the_corresponding_attribute)                               | R2.9           | Ensure that login page shows with respective error message when a format error occurs                                                                                                                                |
| If the email already exists, show message 'this email has been ALREADY used'                                                                                    | R2.10          | Ensure that error message shows when user enters already used email for registration                                                                                                                                 |
| If no error regarding the inputs following the rules above, create a new user, set the balance to 5000, and go back to the /login page                          | R2.11.1        | Ensure that registration is successful when all cases above are satisfied, and check that user balance is equal to 5000, and then ensure login page is displayed                                                     |
| ^                                                                                                                                                               | R2.11.2        | Ensure that registration fails if any of the cases above are not satisfied, and check that user balance is empty, and then ensure registration page is showing                                                       | |
| If the user is not logged in, redirect to login page                                                                                                            | R3.1           | Check to see if user is logged in, if not then redirect to login and validate page                                                                                                                                   |
| This page shows a header 'Hi {}'.format(user.name)                                                                                                              | R3.2           | Validate header contains  'Hi {}'.format(user.name) by checking #header element                                                                                                                                      |
| This page shows user balance.                                                                                                                                   | R3.3           | Check for #user balance element on / and validate that it is displayed                                                                                                                                               |
| This page shows a logout link, pointing to /logout                                                                                                              | R3.4           | Validate that page contains logout link and that it points to /logout by ensuring that href ‘/logout’ is present                                                                                                     |
| This page lists all available tickets. Information including the quantity of each ticket, the owner's email, and the price, for tickets that are not expired.   | R3.5           | Check that quantity, owner’s email, price and expiration date for all tickets are all valid by checking for their respective elements. Additionally, validate that all available tickets are listed.                 |
| This page contains a form that a user can submit new tickets for sell. Fields: name, quantity, price, expiration date                                           | R3.6           | Validate that page contains a form for selling tickets with the fields name, quantity, price and expiration date                                                                                                     |
| This page contains a form that a user can buy new tickets. Fields: name, quantity                                                                               | R3.7           | Validate that page contains a form for buying tickets with fields name and quantity                                                                                                                                  |
| The ticket-selling form can be posted to /sell                                                                                                                  | R3.8           | Validate that the ticket-selling form can be posted to /sell                                                                                                                                                         |
| The ticket-buying form can be posted to /buy                                                                                                                    | R3.9           | Validate that the ticket-buying form can be posted to /buy                                                                                                                                                           |
| The ticket-update form can be posted to /update                                                                                                                 | R3.10          | Validate that the ticket-update form can be posted to /update                                                                                                                                                        |
| The name of the ticket has to be alphanumeric-only, and space allowed only if it is not the first or the last character.                                        | R4.1.1         | Check if the selling actions succeed when the ticket name is alphanumeric-only and space only if it not the first or last character                                                                                  |
| The name of the ticket has to be alphanumeric-only, and space allowed only if it is not the first or the last character.                                        | R4.1.2         | Check if the selling actions fail when the ticket name contains special characters and spaces at start or end                                                                                                        |
| The name of the ticket is no longer than 60 characters                                                                                                          | R4.2.1         | Check if the selling actions succeed when the ticket name is no longer than 60 characters                                                                                                                            |
| The name of the ticket is no longer than 60 characters                                                                                                          | R4.2.2         | Check if the selling actions fail when the ticket name is longer than 60 characters                                                                                                                                  |
| The quantity of the tickets has to be more than 0, and less than or equal to 100.                                                                               | R4.3.1         | Check if the selling actions succeed when the ticket quantity is more than 0 but less than or equal to 100                                                                                                           |
| The quantity of the tickets has to be more than 0, and less than or equal to 100.                                                                               | R.4.3.2        | Check if the selling actions fail when the ticket quantity is more than 0 but less than or equal to 100                                                                                                              |
| Price has to be of range [10, 100]                                                                                                                              | R4.4.1         | Check if the selling actions succeeds when the price is in the range 10-100                                                                                                                                          |
| Price has to be of range [10, 100]                                                                                                                              | R4.4.2         | Check if the selling actions fail when the price is out of the range 10-100                                                                                                                                          |
| Date must be given in the format YYYYMMDD (e.g. 20200901)                                                                                                       | R4.5.1         | Check if the selling actions succeed when the date is in the given format YYYYMMDD                                                                                                                                   |
| Date must be given in the format YYYYMMDD (e.g. 20200901)                                                                                                       | R4.5.2         | Check if the selling actions fail when the date is in the given format YYYYMMDD                                                                                                                                      |
| For any errors, redirect back to / and show an error message                                                                                                    | R4.6           | Check to see that for every error, user is redirected back to / and shown an error message                                                                                                                           |
| The added new ticket information will be posted on the user profile page                                                                                        | R4.7           | Check to see that the new ticket information was successfully posted on /profile                                                                                                                                     |
| The name of the ticket has to be alphanumeric-only, and space allowed only if it is not the first or the last character.                                        | R5.1           | Verify the ticket's name only contains alphanumeric characters, with spaces not appearing at beginning or end.                                                                                                       |
| The quantity of the tickets has to be more than 0, and less than or equal to 100.                                                                               | R5.2           | Check the amount of available tickets is at least one but no more than 100.                                                                                                                                          |
| Price has to be of range [10, 100]                                                                                                                              | R5.3           | Check the price of the tickets is at least $10 but no more than $100                                                                                                                                                 |
| Date must be given in the format YYYYMMDD (e.g. 20200901)                                                                                                       | R5.4           | Validate that the date on the ticket is given in year-month-date format.                                                                                                                                             |
| The ticket of the given name must exist                                                                                                                         | R5.5           | Verify that the requested ticket actually exists in the system.                                                                                                                                                      |
| For any errors, redirect back to / and show an error message                                                                                                    | R5.6           | Verify that if any error occurs while updating ticket information the user is taken back to the homepage and the appropriate error message is displayed.                                                             |
| The name of the ticket has to be alphanumeric-only, and space allowed only if it is not the first or the last character.                                        | R6.1.1         | Verify that the buy action succeeds when the name of the ticket only contains alphanumeric characters.                                                                                                               |
| The name of the ticket has to be alphanumeric-only, and space allowed only if it is not the first or the last character.                                        | R6.1.2         | Verify that the buy action fails when the name of the ticket contains special characters or begins/ends with a space                                                                                                 |
| The name of the ticket is no longer than 60 characters                                                                                                          | R6.2           | Verify that the length of the ticket’s name is no longer than 60 characters including spaces.                                                                                                                        |
| The quantity of the tickets has to be more than 0, and less than or equal to 100.                                                                               | R6.3.1         | Verify that the buy action succeeds when the amount of tickets available to buy is at least one, but no more than 100.                                                                                               |
| The quantity of the tickets has to be more than 0, and less than or equal to 100.                                                                               | R6.3.2         | Verify the buy action fails if there is no ticket to buy                                                                                                                                                             |
| The ticket name exists in the database and the quantity is more than the quantity requested to buy                                                              | R6.4.1         | Verify that the buy action succeeds if the name of the ticket requested is in the database and the amount requested to buy is less than the quantity of ticket available.                                            |
| The ticket name exists in the database and the quantity is more than the quantity requested to buy                                                              | R6.4.2         | Verify that the buy action fails if the name requested is not found in the database or the amount of tickets requested is larger than the amount of tickets available.                                               |
| The user has more balance than the ticket price * quantity + service fee (35%) + tax (5%)                                                                       | R6.5.1         | Verify the buy action succeeds if User’s account balance is greater than the ticket price * quantity + service fee (35%) + tax (5%)                                                                                  |
| The user has more balance than the ticket price * quantity + service fee (35%) + tax (5%)                                                                       | R6.5.2         | Verify the buy action fails if the amount in user’s account balance is less than the ticket price * quantity + service fee (35%) + tax (5%)                                                                          |
| For any errors, redirect back to / and show an error message                                                                                                    | R6.6           | Verify that any error that occurs during the buy process returns the user to the homepage and displays appropriate error messages.                                                                                   |
| Logout will invalid the current session and redirect to the login page. After logout, the user shouldn't be able to access restricted pages.                    | R7.1           | Ensure that the login page is showing after the user submits logout. Ensure that none of the pages can be accessed if user tries to type in their address.                                                           |
| For any other requests except the ones above, the system should return a 404 errors. | R8.1 | Check that when anything after the backslash that has not been defined (/*) returns a 404 error code.                                                                         | R8.1           | Check that when anything after the backslash that has not been defined (/*) returns a 404 error code.                                                                                                                |
